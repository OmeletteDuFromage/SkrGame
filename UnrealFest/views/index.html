<!DOCTYPE html>
<html class="background-image-container" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
</head>

<body>
    <form class="form" id="loginForm">
        <div class="container">
            <img src="/images/title_login.svg" alt="Centered Image">
        </div>
        <input class="rounded-textfield" type="text" id="login" name="login" required><br><br>
        <button class="validate-button" type="submit"></button>
        <style>
            .form {
                text-align: center;
            }

            .rounded-textfield {
                border-radius: 25px;
                /* Adjust the value to make it more or less round */
                border: 1px solid #ccc;
                /* Optional: Add a border */
                padding: 10px 20px;
                /* Adjust padding for better appearance */
                width: 200px;
                /* Adjust width as needed */
                outline: none;
                /* Remove default outline */
            }

            .rounded-textfield:focus {
                border-color: #66afe9;
                /* Optional: Change border color on focus */
                box-shadow: 0 0 5px rgba(102, 175, 233, 0.5);
                /* Optional: Add a shadow on focus */
            }

            .validate-button {
                background-image: url('/images/button_validate.svg');
                background-color: transparent;
                background-size: contain;
                /* Adjust as needed */
                background-repeat: no-repeat;
                background-position: center;
                width: 100px;
                /* Adjust as needed */
                height: 50px;
                /* Adjust as needed */
                border: none;
                /* Remove default border */
                cursor: pointer;
                /* Change cursor to pointer */
            }

            .background-image-container {
                background-image: url('/images/background.svg');
                /* Update the path to your image */
                background-size: cover;
                /* Adjust as needed: cover, contain, or specific dimensions */
                background-repeat: no-repeat;
                /* Prevent the image from repeating */
                background-position: center;
                /* Center the image */
                width: 100%;
                /* Adjust the width as needed */
                height: 500px;
                /* Adjust the height as needed */
            }
        </style>
    </form>

    <script>
        document.getElementById('loginForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the form from submitting the traditional way

            const login = document.getElementById('login').value;
            const team = document.getElementById('team').value;

            fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ login: login, team: team })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Success:', data);
                    // Redirect to a new page
                    window.location.href = 'game.html';
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Validation failed.');
                });
        });
    </script>
</body>

</html>